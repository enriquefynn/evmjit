<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>EVMJIT: Evmjit</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EVMJIT
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Evmjit</div>  </div>
</div><!--header-->
<div class="contents">

<p>EVMJIT: The Ethereum Virtual Machine JIT &ndash; C language interface.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevmjit__uint256.html">evmjit_uint256</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Host-endian 256-bit integer.  <a href="structevmjit__uint256.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevmjit__hash160.html">evmjit_hash160</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">160-bit hash suitable for keeping an Ethereum address.  <a href="structevmjit__hash160.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevmjit__hash256.html">evmjit_hash256</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Big-endian 256-bit integer/hash.  <a href="structevmjit__hash256.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevmjit__bytes__view.html">evmjit_bytes_view</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to non-mutable memory.  <a href="structevmjit__bytes__view.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevmjit__mutable__bytes__view.html">evmjit_mutable_bytes_view</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to mutable memory.  <a href="structevmjit__mutable__bytes__view.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structevmjit__result.html">evmjit_result</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Complex struct representing execution result.  <a href="structevmjit__result.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="unionevmjit__variant.html">evmjit_variant</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variant type to represent possible types of values used in EVMJIT.  <a href="unionevmjit__variant.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga9477a0066b1b1a09270e648627cb6a72"><td class="memItemLeft" align="right" valign="top">typedef union <a class="el" href="unionevmjit__variant.html">evmjit_variant</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#ga9477a0066b1b1a09270e648627cb6a72">evmjit_query_func</a>) (struct evmjit_env *env, enum <a class="el" href="group__evmjit.html#gaf4d7e17cce2d974124bbc197790fa02c">evmjit_query_key</a> key, union <a class="el" href="unionevmjit__variant.html">evmjit_variant</a> arg)</td></tr>
<tr class="memdesc:ga9477a0066b1b1a09270e648627cb6a72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query callback function.  <a href="#ga9477a0066b1b1a09270e648627cb6a72">More...</a><br /></td></tr>
<tr class="separator:ga9477a0066b1b1a09270e648627cb6a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37fd09d00ef2a3e618d7bad66e06d4fe"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#ga37fd09d00ef2a3e618d7bad66e06d4fe">evmjit_store_storage_func</a>) (struct evmjit_env *, struct <a class="el" href="structevmjit__uint256.html">evmjit_uint256</a> key, struct <a class="el" href="structevmjit__uint256.html">evmjit_uint256</a> value)</td></tr>
<tr class="memdesc:ga37fd09d00ef2a3e618d7bad66e06d4fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for modifying the storage.  <a href="#ga37fd09d00ef2a3e618d7bad66e06d4fe">More...</a><br /></td></tr>
<tr class="separator:ga37fd09d00ef2a3e618d7bad66e06d4fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ff53cb5f21431584ce960a6b8cd5fa3"><td class="memItemLeft" align="right" valign="top">typedef int64_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#ga8ff53cb5f21431584ce960a6b8cd5fa3">evmjit_call_func</a>) (enum <a class="el" href="group__evmjit.html#ga2b44d0ba216178a2ea156de447075612">evmjit_call_kind</a> kind, int64_t gas, struct <a class="el" href="structevmjit__hash160.html">evmjit_hash160</a> address, struct <a class="el" href="structevmjit__uint256.html">evmjit_uint256</a> value, struct <a class="el" href="structevmjit__bytes__view.html">evmjit_bytes_view</a> input_data, struct <a class="el" href="structevmjit__mutable__bytes__view.html">evmjit_mutable_bytes_view</a> output_data)</td></tr>
<tr class="memdesc:ga8ff53cb5f21431584ce960a6b8cd5fa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the callback function supporting EVM calls.  <a href="#ga8ff53cb5f21431584ce960a6b8cd5fa3">More...</a><br /></td></tr>
<tr class="separator:ga8ff53cb5f21431584ce960a6b8cd5fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0eee2087598400414c2a6e64b8ca0bf3"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#ga0eee2087598400414c2a6e64b8ca0bf3">evmjit_log_func</a>) (struct <a class="el" href="structevmjit__bytes__view.html">evmjit_bytes_view</a> log_data, size_t num_topics, struct <a class="el" href="structevmjit__hash256.html">evmjit_hash256</a> topics[])</td></tr>
<tr class="memdesc:ga0eee2087598400414c2a6e64b8ca0bf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the callback function supporting EVM logs.  <a href="#ga0eee2087598400414c2a6e64b8ca0bf3">More...</a><br /></td></tr>
<tr class="separator:ga0eee2087598400414c2a6e64b8ca0bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga1408db9782dc6e0fe3c15543ece7e0d1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#ga1408db9782dc6e0fe3c15543ece7e0d1">evmjit_return_code</a> { <a class="el" href="group__evmjit.html#gga1408db9782dc6e0fe3c15543ece7e0d1a700b38dc18dee9aba311a6a730dd2880">evmjit_return</a> = 0, 
<a class="el" href="group__evmjit.html#gga1408db9782dc6e0fe3c15543ece7e0d1ac19a7e43c3e8e8c7f4853c05cd14ea64">evmjit_selfdestruct</a> = 1, 
<a class="el" href="group__evmjit.html#gga1408db9782dc6e0fe3c15543ece7e0d1a84120e053fe0695cdb3d580b2e842e7b">evmjit_exception</a> = -1
 }</td></tr>
<tr class="memdesc:ga1408db9782dc6e0fe3c15543ece7e0d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The EVM execution return code.  <a href="group__evmjit.html#ga1408db9782dc6e0fe3c15543ece7e0d1">More...</a><br /></td></tr>
<tr class="separator:ga1408db9782dc6e0fe3c15543ece7e0d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4d7e17cce2d974124bbc197790fa02c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#gaf4d7e17cce2d974124bbc197790fa02c">evmjit_query_key</a> { <br />
&#160;&#160;<a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cacb03b88451d01d33213b8bd8ac2381ff">evmjit_query_address</a>, 
<a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cabfca62d5669ab1b60bac6b0514a631c0">evmjit_query_caller</a>, 
<a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02caaea420d3114e3bf0625f1eaeda32e4ac">evmjit_query_origin</a>, 
<a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca1a4ecc680b8335cb00337de9de831630">evmjit_query_gas_price</a>, 
<br />
&#160;&#160;<a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca0f4562eed1ebf94e99df603c5839317c">evmjit_query_coinbase</a>, 
<a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cabe62fc40db76585489e3c4ace5bf00b6">evmjit_query_difficulty</a>, 
<a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02caa8df110bc3063beabed32a029c3b4fd6">evmjit_query_gas_limit</a>, 
<a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca96d69d029f61f2287ab75e4bcfbec635">evmjit_query_number</a>, 
<br />
&#160;&#160;<a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cae55b4054c7b20939fcd6fc7e7081598e">evmjit_query_timestamp</a>, 
<a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca0891667fd4494161df2f3f9ceb729588">evmjit_query_code_by_address</a>, 
<a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca9e5231a32359bed4f81cbac7068ab0d7">evmjit_query_balance</a>, 
<a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cada91b02513273dfbdfff9fee2ad3c15c">evmjit_query_storage</a>
<br />
 }</td></tr>
<tr class="memdesc:gaf4d7e17cce2d974124bbc197790fa02c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The query callback key.  <a href="group__evmjit.html#gaf4d7e17cce2d974124bbc197790fa02c">More...</a><br /></td></tr>
<tr class="separator:gaf4d7e17cce2d974124bbc197790fa02c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b44d0ba216178a2ea156de447075612"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#ga2b44d0ba216178a2ea156de447075612">evmjit_call_kind</a> { <a class="el" href="group__evmjit.html#gga2b44d0ba216178a2ea156de447075612a522e0a38074fc1e76c944ca3484d16f9">evmjit_call</a>, 
<a class="el" href="group__evmjit.html#gga2b44d0ba216178a2ea156de447075612a66cfed1e43269fa4c305ff3c0f74faaa">evmjit_delegatecall</a>, 
<a class="el" href="group__evmjit.html#gga2b44d0ba216178a2ea156de447075612a930dfea46c2dc3780c67a158ec18f014">evmjit_callcode</a>, 
<a class="el" href="group__evmjit.html#gga2b44d0ba216178a2ea156de447075612ab80743608743251875900b351522d36f">evmjit_create</a>
 }</td></tr>
<tr class="memdesc:ga2b44d0ba216178a2ea156de447075612"><td class="mdescLeft">&#160;</td><td class="mdescRight">The kind of call-like instruction.  <a href="group__evmjit.html#ga2b44d0ba216178a2ea156de447075612">More...</a><br /></td></tr>
<tr class="separator:ga2b44d0ba216178a2ea156de447075612"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacd5cf5f12f4eb90a00f47ade948f560b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#gacd5cf5f12f4eb90a00f47ade948f560b">evmjit_get_version</a> ()</td></tr>
<tr class="memdesc:gacd5cf5f12f4eb90a00f47ade948f560b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns EVMJIT software version.  <a href="#gacd5cf5f12f4eb90a00f47ade948f560b">More...</a><br /></td></tr>
<tr class="separator:gacd5cf5f12f4eb90a00f47ade948f560b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf30fa58819a2b753c7128556e159c191"><td class="memItemLeft" align="right" valign="top">struct evmjit_instance *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#gaf30fa58819a2b753c7128556e159c191">evmjit_create_instance</a> (<a class="el" href="group__evmjit.html#ga9477a0066b1b1a09270e648627cb6a72">evmjit_query_func</a> query_func, <a class="el" href="group__evmjit.html#ga37fd09d00ef2a3e618d7bad66e06d4fe">evmjit_store_storage_func</a> storage_func, <a class="el" href="group__evmjit.html#ga8ff53cb5f21431584ce960a6b8cd5fa3">evmjit_call_func</a> call_func, <a class="el" href="group__evmjit.html#ga0eee2087598400414c2a6e64b8ca0bf3">evmjit_log_func</a> log_func)</td></tr>
<tr class="memdesc:gaf30fa58819a2b753c7128556e159c191"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates new JIT instance.  <a href="#gaf30fa58819a2b753c7128556e159c191">More...</a><br /></td></tr>
<tr class="separator:gaf30fa58819a2b753c7128556e159c191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab83c513384c29d6b795c749386e3b9ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#gab83c513384c29d6b795c749386e3b9ff">evmjit_destroy_instance</a> (struct evmjit_instance *jit)</td></tr>
<tr class="memdesc:gab83c513384c29d6b795c749386e3b9ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the JIT instance.  <a href="#gab83c513384c29d6b795c749386e3b9ff">More...</a><br /></td></tr>
<tr class="separator:gab83c513384c29d6b795c749386e3b9ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a3bc678c8185d9866b06790e52bc76e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#ga4a3bc678c8185d9866b06790e52bc76e">evmjit_set_option</a> (struct evmjit_instance *jit, char const *name, char const *value)</td></tr>
<tr class="memdesc:ga4a3bc678c8185d9866b06790e52bc76e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the JIT instance.  <a href="#ga4a3bc678c8185d9866b06790e52bc76e">More...</a><br /></td></tr>
<tr class="separator:ga4a3bc678c8185d9866b06790e52bc76e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c18ccea762b375234ba3403e026a40c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structevmjit__result.html">evmjit_result</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#ga5c18ccea762b375234ba3403e026a40c">evmjit_execute</a> (struct evmjit_instance *instance, struct <a class="el" href="structevmjit__hash256.html">evmjit_hash256</a> code_hash, struct <a class="el" href="structevmjit__bytes__view.html">evmjit_bytes_view</a> code, int64_t gas, struct <a class="el" href="structevmjit__bytes__view.html">evmjit_bytes_view</a> input_data, struct <a class="el" href="structevmjit__uint256.html">evmjit_uint256</a> value)</td></tr>
<tr class="memdesc:ga5c18ccea762b375234ba3403e026a40c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates and executes machine code for given EVM bytecode.  <a href="#ga5c18ccea762b375234ba3403e026a40c">More...</a><br /></td></tr>
<tr class="separator:ga5c18ccea762b375234ba3403e026a40c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3602ad07ebbce8660ab7d8cea2aa749c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3602ad07ebbce8660ab7d8cea2aa749c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__evmjit.html#ga3602ad07ebbce8660ab7d8cea2aa749c">evmjit_destroy_result</a> (struct <a class="el" href="structevmjit__result.html">evmjit_result</a>)</td></tr>
<tr class="memdesc:ga3602ad07ebbce8660ab7d8cea2aa749c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys execution result. <br /></td></tr>
<tr class="separator:ga3602ad07ebbce8660ab7d8cea2aa749c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>EVMJIT: The Ethereum Virtual Machine JIT &ndash; C language interface. </p>
<h2>High level design rules</h2>
<ol type="1">
<li>Pass function arguments and results by value. This rule comes from modern C++ and tries to avoid costly alias analysis needed for optimization. As the result we have a lots of complex structs and unions. And variable sized arrays of bytes cannot be passed by copy.</li>
<li>The EVM operates on integers so it prefers values to be host-endian. On the other hand, LLVM can generate good code for byte swaping. The interface also tries to match host application "natural" endianess. I would like to know what endianess you use and where. </li>
</ol>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga8ff53cb5f21431584ce960a6b8cd5fa3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int64_t(* evmjit_call_func) (enum <a class="el" href="group__evmjit.html#ga2b44d0ba216178a2ea156de447075612">evmjit_call_kind</a> kind, int64_t gas, struct <a class="el" href="structevmjit__hash160.html">evmjit_hash160</a> address, struct <a class="el" href="structevmjit__uint256.html">evmjit_uint256</a> value, struct <a class="el" href="structevmjit__bytes__view.html">evmjit_bytes_view</a> input_data, struct <a class="el" href="structevmjit__mutable__bytes__view.html">evmjit_mutable_bytes_view</a> output_data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to the callback function supporting EVM calls. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kind</td><td>The kind of call-like opcode requested. </td></tr>
    <tr><td class="paramname">gas</td><td>The amound of gas for the call. </td></tr>
    <tr><td class="paramname">address</td><td>The address of a contract to be called. Ignored in case of CREATE. </td></tr>
    <tr><td class="paramname">value</td><td>The value sent to the callee. The endowment in case of CREATE. </td></tr>
    <tr><td class="paramname">input_data</td><td>The call input data or the create init code. </td></tr>
    <tr><td class="paramname">output_data</td><td>The reference to the memory where the call output is to be copied. In case of create, the memory is guaranteed to be at least 160 bytes to hold the address of the created contract. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If non-negative - the amount of gas left, If negative - an exception ocurred during the call/create. There is no need to set 0 address in the output in this case. </dd></dl>

<p>Definition at line <a class="el" href="evmjit_8h_source.html#l00198">198</a> of file <a class="el" href="evmjit_8h_source.html">evmjit.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0eee2087598400414c2a6e64b8ca0bf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* evmjit_log_func) (struct <a class="el" href="structevmjit__bytes__view.html">evmjit_bytes_view</a> log_data, size_t num_topics, struct <a class="el" href="structevmjit__hash256.html">evmjit_hash256</a> topics[])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to the callback function supporting EVM logs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">log_data</td><td>Reference to memory containing non-indexed log data. </td></tr>
    <tr><td class="paramname">num_topics</td><td>Number of topics added to the log. Valid values 0-4. </td></tr>
    <tr><td class="paramname">topics</td><td>Pointer to an array containing <code>num_topics</code> topics. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="evmjit_8h_source.html#l00211">211</a> of file <a class="el" href="evmjit_8h_source.html">evmjit.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga9477a0066b1b1a09270e648627cb6a72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef union <a class="el" href="unionevmjit__variant.html">evmjit_variant</a>(* evmjit_query_func) (struct evmjit_env *env, enum <a class="el" href="group__evmjit.html#gaf4d7e17cce2d974124bbc197790fa02c">evmjit_query_key</a> key, union <a class="el" href="unionevmjit__variant.html">evmjit_variant</a> arg)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query callback function. </p>
<p>This callback function is used by the EVMJIT to query the host application about additional data required to execute EVM code. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">env</td><td>Pointer to execution environment managed by the host application. </td></tr>
    <tr><td class="paramname">key</td><td>The kind of the query. See evmjit_query_key and defails below. </td></tr>
    <tr><td class="paramname">arg</td><td>Addicional argument to the query. It has defined value only for the subset of query keys.</td></tr>
  </table>
  </dd>
</dl>
<h2>Types of queries</h2>
<table class="doxtable">
<tr>
<th>Key </th><th>Arg </th><th>Expected result  </th></tr>
<tr>
<td><a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca1a4ecc680b8335cb00337de9de831630" title="Transaction gas price for GASPRICE. ">evmjit_query_gas_price</a> </td><td></td><td><a class="el" href="unionevmjit__variant.html#a5f5551264624befefbff00ed214184f1" title="A host-endian 256-bit integer. ">evmjit_variant::uint256</a> </td></tr>
<tr>
<td><a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cacb03b88451d01d33213b8bd8ac2381ff" title="Address of the contract for ADDRESS. ">evmjit_query_address</a> </td><td></td><td><a class="el" href="unionevmjit__variant.html#a2fec95155200d961d951110a3febde9c" title="An Ethereum address. ">evmjit_variant::address</a> </td></tr>
<tr>
<td><a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cabfca62d5669ab1b60bac6b0514a631c0" title="Message sender address for CALLER. ">evmjit_query_caller</a> </td><td></td><td><a class="el" href="unionevmjit__variant.html#a2fec95155200d961d951110a3febde9c" title="An Ethereum address. ">evmjit_variant::address</a> </td></tr>
<tr>
<td><a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02caaea420d3114e3bf0625f1eaeda32e4ac" title="Transaction origin address for ORIGIN. ">evmjit_query_origin</a> </td><td></td><td><a class="el" href="unionevmjit__variant.html#a2fec95155200d961d951110a3febde9c" title="An Ethereum address. ">evmjit_variant::address</a> </td></tr>
<tr>
<td><a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca0f4562eed1ebf94e99df603c5839317c" title="Current block miner address for COINBASE. ">evmjit_query_coinbase</a> </td><td></td><td><a class="el" href="unionevmjit__variant.html#a2fec95155200d961d951110a3febde9c" title="An Ethereum address. ">evmjit_variant::address</a> </td></tr>
<tr>
<td><a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cabe62fc40db76585489e3c4ace5bf00b6" title="Current block difficulty for DIFFICULTY. ">evmjit_query_difficulty</a> </td><td></td><td><a class="el" href="unionevmjit__variant.html#a5f5551264624befefbff00ed214184f1" title="A host-endian 256-bit integer. ">evmjit_variant::uint256</a> </td></tr>
<tr>
<td><a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02caa8df110bc3063beabed32a029c3b4fd6" title="Current block gas limit for GASLIMIT. ">evmjit_query_gas_limit</a> </td><td></td><td><a class="el" href="unionevmjit__variant.html#a38d13066920477522a3f544404575a09" title="A host-endian 64-bit integer. ">evmjit_variant::int64</a> </td></tr>
<tr>
<td><a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca96d69d029f61f2287ab75e4bcfbec635" title="Current block number for NUMBER. ">evmjit_query_number</a> </td><td></td><td><a class="el" href="unionevmjit__variant.html#a38d13066920477522a3f544404575a09" title="A host-endian 64-bit integer. ">evmjit_variant::int64</a>? </td></tr>
<tr>
<td><a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cae55b4054c7b20939fcd6fc7e7081598e" title="Current block timestamp for TIMESTAMP. ">evmjit_query_timestamp</a> </td><td></td><td><a class="el" href="unionevmjit__variant.html#a38d13066920477522a3f544404575a09" title="A host-endian 64-bit integer. ">evmjit_variant::int64</a>? </td></tr>
<tr>
<td><a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca0891667fd4494161df2f3f9ceb729588" title="Code by an address for EXTCODE/SIZE. ">evmjit_query_code_by_address</a> </td><td><a class="el" href="unionevmjit__variant.html#a2fec95155200d961d951110a3febde9c" title="An Ethereum address. ">evmjit_variant::address</a> </td><td><a class="el" href="unionevmjit__variant.html#a92da5dec3bcf5dbda1632583dc26071a" title="A memory reference. ">evmjit_variant::bytes</a> </td></tr>
<tr>
<td><a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca9e5231a32359bed4f81cbac7068ab0d7" title="Balance of a given address for BALANCE. ">evmjit_query_balance</a> </td><td><a class="el" href="unionevmjit__variant.html#a2fec95155200d961d951110a3febde9c" title="An Ethereum address. ">evmjit_variant::address</a> </td><td><a class="el" href="unionevmjit__variant.html#a5f5551264624befefbff00ed214184f1" title="A host-endian 256-bit integer. ">evmjit_variant::uint256</a> </td></tr>
<tr>
<td><a class="el" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cada91b02513273dfbdfff9fee2ad3c15c" title="Storage value of a given key for SLOAD. ">evmjit_query_storage</a> </td><td><a class="el" href="unionevmjit__variant.html#a5f5551264624befefbff00ed214184f1" title="A host-endian 256-bit integer. ">evmjit_variant::uint256</a> </td><td><a class="el" href="unionevmjit__variant.html#a5f5551264624befefbff00ed214184f1" title="A host-endian 256-bit integer. ">evmjit_variant::uint256</a>? </td></tr>
</table>

<p>Definition at line <a class="el" href="evmjit_8h_source.html#l00161">161</a> of file <a class="el" href="evmjit_8h_source.html">evmjit.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga37fd09d00ef2a3e618d7bad66e06d4fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* evmjit_store_storage_func) (struct evmjit_env *, struct <a class="el" href="structevmjit__uint256.html">evmjit_uint256</a> key, struct <a class="el" href="structevmjit__uint256.html">evmjit_uint256</a> value)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for modifying the storage. </p>
<p>Endianness: host-endianness is used because C++'s storage API uses big ints, not bytes. What do you use? </p>

<p>Definition at line <a class="el" href="evmjit_8h_source.html#l00170">170</a> of file <a class="el" href="evmjit_8h_source.html">evmjit.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga2b44d0ba216178a2ea156de447075612"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__evmjit.html#ga2b44d0ba216178a2ea156de447075612">evmjit_call_kind</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The kind of call-like instruction. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga2b44d0ba216178a2ea156de447075612a522e0a38074fc1e76c944ca3484d16f9"></a>evmjit_call&#160;</td><td class="fielddoc">
<p>Request CALL. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga2b44d0ba216178a2ea156de447075612a66cfed1e43269fa4c305ff3c0f74faaa"></a>evmjit_delegatecall&#160;</td><td class="fielddoc">
<p>Request DELEGATECALL. The value param ignored. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga2b44d0ba216178a2ea156de447075612a930dfea46c2dc3780c67a158ec18f014"></a>evmjit_callcode&#160;</td><td class="fielddoc">
<p>Request CALLCODE. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga2b44d0ba216178a2ea156de447075612ab80743608743251875900b351522d36f"></a>evmjit_create&#160;</td><td class="fielddoc">
<p>Request CREATE. Semantic of some params changes. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="evmjit_8h_source.html#l00175">175</a> of file <a class="el" href="evmjit_8h_source.html">evmjit.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                      {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="group__evmjit.html#gga2b44d0ba216178a2ea156de447075612a522e0a38074fc1e76c944ca3484d16f9">evmjit_call</a>,         </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <a class="code" href="group__evmjit.html#gga2b44d0ba216178a2ea156de447075612a66cfed1e43269fa4c305ff3c0f74faaa">evmjit_delegatecall</a>, </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="group__evmjit.html#gga2b44d0ba216178a2ea156de447075612a930dfea46c2dc3780c67a158ec18f014">evmjit_callcode</a>,     </div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="group__evmjit.html#gga2b44d0ba216178a2ea156de447075612ab80743608743251875900b351522d36f">evmjit_create</a>        </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;};</div>
<div class="ttc" id="group__evmjit_html_gga2b44d0ba216178a2ea156de447075612a930dfea46c2dc3780c67a158ec18f014"><div class="ttname"><a href="group__evmjit.html#gga2b44d0ba216178a2ea156de447075612a930dfea46c2dc3780c67a158ec18f014">evmjit_callcode</a></div><div class="ttdoc">Request CALLCODE. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00178">evmjit.h:178</a></div></div>
<div class="ttc" id="group__evmjit_html_gga2b44d0ba216178a2ea156de447075612a522e0a38074fc1e76c944ca3484d16f9"><div class="ttname"><a href="group__evmjit.html#gga2b44d0ba216178a2ea156de447075612a522e0a38074fc1e76c944ca3484d16f9">evmjit_call</a></div><div class="ttdoc">Request CALL. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00176">evmjit.h:176</a></div></div>
<div class="ttc" id="group__evmjit_html_gga2b44d0ba216178a2ea156de447075612ab80743608743251875900b351522d36f"><div class="ttname"><a href="group__evmjit.html#gga2b44d0ba216178a2ea156de447075612ab80743608743251875900b351522d36f">evmjit_create</a></div><div class="ttdoc">Request CREATE. Semantic of some params changes. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00179">evmjit.h:179</a></div></div>
<div class="ttc" id="group__evmjit_html_gga2b44d0ba216178a2ea156de447075612a66cfed1e43269fa4c305ff3c0f74faaa"><div class="ttname"><a href="group__evmjit.html#gga2b44d0ba216178a2ea156de447075612a66cfed1e43269fa4c305ff3c0f74faaa">evmjit_delegatecall</a></div><div class="ttdoc">Request DELEGATECALL. The value param ignored. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00177">evmjit.h:177</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf4d7e17cce2d974124bbc197790fa02c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__evmjit.html#gaf4d7e17cce2d974124bbc197790fa02c">evmjit_query_key</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The query callback key. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggaf4d7e17cce2d974124bbc197790fa02cacb03b88451d01d33213b8bd8ac2381ff"></a>evmjit_query_address&#160;</td><td class="fielddoc">
<p>Address of the contract for ADDRESS. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf4d7e17cce2d974124bbc197790fa02cabfca62d5669ab1b60bac6b0514a631c0"></a>evmjit_query_caller&#160;</td><td class="fielddoc">
<p>Message sender address for CALLER. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf4d7e17cce2d974124bbc197790fa02caaea420d3114e3bf0625f1eaeda32e4ac"></a>evmjit_query_origin&#160;</td><td class="fielddoc">
<p>Transaction origin address for ORIGIN. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf4d7e17cce2d974124bbc197790fa02ca1a4ecc680b8335cb00337de9de831630"></a>evmjit_query_gas_price&#160;</td><td class="fielddoc">
<p>Transaction gas price for GASPRICE. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf4d7e17cce2d974124bbc197790fa02ca0f4562eed1ebf94e99df603c5839317c"></a>evmjit_query_coinbase&#160;</td><td class="fielddoc">
<p>Current block miner address for COINBASE. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf4d7e17cce2d974124bbc197790fa02cabe62fc40db76585489e3c4ace5bf00b6"></a>evmjit_query_difficulty&#160;</td><td class="fielddoc">
<p>Current block difficulty for DIFFICULTY. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf4d7e17cce2d974124bbc197790fa02caa8df110bc3063beabed32a029c3b4fd6"></a>evmjit_query_gas_limit&#160;</td><td class="fielddoc">
<p>Current block gas limit for GASLIMIT. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf4d7e17cce2d974124bbc197790fa02ca96d69d029f61f2287ab75e4bcfbec635"></a>evmjit_query_number&#160;</td><td class="fielddoc">
<p>Current block number for NUMBER. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf4d7e17cce2d974124bbc197790fa02cae55b4054c7b20939fcd6fc7e7081598e"></a>evmjit_query_timestamp&#160;</td><td class="fielddoc">
<p>Current block timestamp for TIMESTAMP. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf4d7e17cce2d974124bbc197790fa02ca0891667fd4494161df2f3f9ceb729588"></a>evmjit_query_code_by_address&#160;</td><td class="fielddoc">
<p>Code by an address for EXTCODE/SIZE. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf4d7e17cce2d974124bbc197790fa02ca9e5231a32359bed4f81cbac7068ab0d7"></a>evmjit_query_balance&#160;</td><td class="fielddoc">
<p>Balance of a given address for BALANCE. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaf4d7e17cce2d974124bbc197790fa02cada91b02513273dfbdfff9fee2ad3c15c"></a>evmjit_query_storage&#160;</td><td class="fielddoc">
<p>Storage value of a given key for SLOAD. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="evmjit_8h_source.html#l00091">91</a> of file <a class="el" href="evmjit_8h_source.html">evmjit.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                      {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cacb03b88451d01d33213b8bd8ac2381ff">evmjit_query_address</a>,         </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cabfca62d5669ab1b60bac6b0514a631c0">evmjit_query_caller</a>,          </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02caaea420d3114e3bf0625f1eaeda32e4ac">evmjit_query_origin</a>,          </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca1a4ecc680b8335cb00337de9de831630">evmjit_query_gas_price</a>,       </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca0f4562eed1ebf94e99df603c5839317c">evmjit_query_coinbase</a>,        </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cabe62fc40db76585489e3c4ace5bf00b6">evmjit_query_difficulty</a>,      </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02caa8df110bc3063beabed32a029c3b4fd6">evmjit_query_gas_limit</a>,       </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca96d69d029f61f2287ab75e4bcfbec635">evmjit_query_number</a>,          </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cae55b4054c7b20939fcd6fc7e7081598e">evmjit_query_timestamp</a>,       </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <a class="code" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca0891667fd4494161df2f3f9ceb729588">evmjit_query_code_by_address</a>, </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca9e5231a32359bed4f81cbac7068ab0d7">evmjit_query_balance</a>,         </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cada91b02513273dfbdfff9fee2ad3c15c">evmjit_query_storage</a>,         </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;};</div>
<div class="ttc" id="group__evmjit_html_ggaf4d7e17cce2d974124bbc197790fa02ca96d69d029f61f2287ab75e4bcfbec635"><div class="ttname"><a href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca96d69d029f61f2287ab75e4bcfbec635">evmjit_query_number</a></div><div class="ttdoc">Current block number for NUMBER. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00099">evmjit.h:99</a></div></div>
<div class="ttc" id="group__evmjit_html_ggaf4d7e17cce2d974124bbc197790fa02cada91b02513273dfbdfff9fee2ad3c15c"><div class="ttname"><a href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cada91b02513273dfbdfff9fee2ad3c15c">evmjit_query_storage</a></div><div class="ttdoc">Storage value of a given key for SLOAD. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00103">evmjit.h:103</a></div></div>
<div class="ttc" id="group__evmjit_html_ggaf4d7e17cce2d974124bbc197790fa02ca0f4562eed1ebf94e99df603c5839317c"><div class="ttname"><a href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca0f4562eed1ebf94e99df603c5839317c">evmjit_query_coinbase</a></div><div class="ttdoc">Current block miner address for COINBASE. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00096">evmjit.h:96</a></div></div>
<div class="ttc" id="group__evmjit_html_ggaf4d7e17cce2d974124bbc197790fa02ca1a4ecc680b8335cb00337de9de831630"><div class="ttname"><a href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca1a4ecc680b8335cb00337de9de831630">evmjit_query_gas_price</a></div><div class="ttdoc">Transaction gas price for GASPRICE. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00095">evmjit.h:95</a></div></div>
<div class="ttc" id="group__evmjit_html_ggaf4d7e17cce2d974124bbc197790fa02caaea420d3114e3bf0625f1eaeda32e4ac"><div class="ttname"><a href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02caaea420d3114e3bf0625f1eaeda32e4ac">evmjit_query_origin</a></div><div class="ttdoc">Transaction origin address for ORIGIN. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00094">evmjit.h:94</a></div></div>
<div class="ttc" id="group__evmjit_html_ggaf4d7e17cce2d974124bbc197790fa02ca0891667fd4494161df2f3f9ceb729588"><div class="ttname"><a href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca0891667fd4494161df2f3f9ceb729588">evmjit_query_code_by_address</a></div><div class="ttdoc">Code by an address for EXTCODE/SIZE. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00101">evmjit.h:101</a></div></div>
<div class="ttc" id="group__evmjit_html_ggaf4d7e17cce2d974124bbc197790fa02cae55b4054c7b20939fcd6fc7e7081598e"><div class="ttname"><a href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cae55b4054c7b20939fcd6fc7e7081598e">evmjit_query_timestamp</a></div><div class="ttdoc">Current block timestamp for TIMESTAMP. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00100">evmjit.h:100</a></div></div>
<div class="ttc" id="group__evmjit_html_ggaf4d7e17cce2d974124bbc197790fa02caa8df110bc3063beabed32a029c3b4fd6"><div class="ttname"><a href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02caa8df110bc3063beabed32a029c3b4fd6">evmjit_query_gas_limit</a></div><div class="ttdoc">Current block gas limit for GASLIMIT. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00098">evmjit.h:98</a></div></div>
<div class="ttc" id="group__evmjit_html_ggaf4d7e17cce2d974124bbc197790fa02ca9e5231a32359bed4f81cbac7068ab0d7"><div class="ttname"><a href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02ca9e5231a32359bed4f81cbac7068ab0d7">evmjit_query_balance</a></div><div class="ttdoc">Balance of a given address for BALANCE. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00102">evmjit.h:102</a></div></div>
<div class="ttc" id="group__evmjit_html_ggaf4d7e17cce2d974124bbc197790fa02cacb03b88451d01d33213b8bd8ac2381ff"><div class="ttname"><a href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cacb03b88451d01d33213b8bd8ac2381ff">evmjit_query_address</a></div><div class="ttdoc">Address of the contract for ADDRESS. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00092">evmjit.h:92</a></div></div>
<div class="ttc" id="group__evmjit_html_ggaf4d7e17cce2d974124bbc197790fa02cabfca62d5669ab1b60bac6b0514a631c0"><div class="ttname"><a href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cabfca62d5669ab1b60bac6b0514a631c0">evmjit_query_caller</a></div><div class="ttdoc">Message sender address for CALLER. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00093">evmjit.h:93</a></div></div>
<div class="ttc" id="group__evmjit_html_ggaf4d7e17cce2d974124bbc197790fa02cabe62fc40db76585489e3c4ace5bf00b6"><div class="ttname"><a href="group__evmjit.html#ggaf4d7e17cce2d974124bbc197790fa02cabe62fc40db76585489e3c4ace5bf00b6">evmjit_query_difficulty</a></div><div class="ttdoc">Current block difficulty for DIFFICULTY. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00097">evmjit.h:97</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1408db9782dc6e0fe3c15543ece7e0d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__evmjit.html#ga1408db9782dc6e0fe3c15543ece7e0d1">evmjit_return_code</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The EVM execution return code. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga1408db9782dc6e0fe3c15543ece7e0d1a700b38dc18dee9aba311a6a730dd2880"></a>evmjit_return&#160;</td><td class="fielddoc">
<p>The execution ended by STOP or RETURN. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1408db9782dc6e0fe3c15543ece7e0d1ac19a7e43c3e8e8c7f4853c05cd14ea64"></a>evmjit_selfdestruct&#160;</td><td class="fielddoc">
<p>The execution ended by SELFDESTRUCT. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga1408db9782dc6e0fe3c15543ece7e0d1a84120e053fe0695cdb3d580b2e842e7b"></a>evmjit_exception&#160;</td><td class="fielddoc">
<p>The execution ended with an exception. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="evmjit_8h_source.html#l00060">60</a> of file <a class="el" href="evmjit_8h_source.html">evmjit.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                        {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="group__evmjit.html#gga1408db9782dc6e0fe3c15543ece7e0d1a700b38dc18dee9aba311a6a730dd2880">evmjit_return</a> = 0,        </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="group__evmjit.html#gga1408db9782dc6e0fe3c15543ece7e0d1ac19a7e43c3e8e8c7f4853c05cd14ea64">evmjit_selfdestruct</a> = 1,  </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="group__evmjit.html#gga1408db9782dc6e0fe3c15543ece7e0d1a84120e053fe0695cdb3d580b2e842e7b">evmjit_exception</a> = -1,    </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;};</div>
<div class="ttc" id="group__evmjit_html_gga1408db9782dc6e0fe3c15543ece7e0d1ac19a7e43c3e8e8c7f4853c05cd14ea64"><div class="ttname"><a href="group__evmjit.html#gga1408db9782dc6e0fe3c15543ece7e0d1ac19a7e43c3e8e8c7f4853c05cd14ea64">evmjit_selfdestruct</a></div><div class="ttdoc">The execution ended by SELFDESTRUCT. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00062">evmjit.h:62</a></div></div>
<div class="ttc" id="group__evmjit_html_gga1408db9782dc6e0fe3c15543ece7e0d1a84120e053fe0695cdb3d580b2e842e7b"><div class="ttname"><a href="group__evmjit.html#gga1408db9782dc6e0fe3c15543ece7e0d1a84120e053fe0695cdb3d580b2e842e7b">evmjit_exception</a></div><div class="ttdoc">The execution ended with an exception. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00063">evmjit.h:63</a></div></div>
<div class="ttc" id="group__evmjit_html_gga1408db9782dc6e0fe3c15543ece7e0d1a700b38dc18dee9aba311a6a730dd2880"><div class="ttname"><a href="group__evmjit.html#gga1408db9782dc6e0fe3c15543ece7e0d1a700b38dc18dee9aba311a6a730dd2880">evmjit_return</a></div><div class="ttdoc">The execution ended by STOP or RETURN. </div><div class="ttdef"><b>Definition:</b> <a href="evmjit_8h_source.html#l00061">evmjit.h:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaf30fa58819a2b753c7128556e159c191"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct evmjit_instance* evmjit_create_instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__evmjit.html#ga9477a0066b1b1a09270e648627cb6a72">evmjit_query_func</a>&#160;</td>
          <td class="paramname"><em>query_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__evmjit.html#ga37fd09d00ef2a3e618d7bad66e06d4fe">evmjit_store_storage_func</a>&#160;</td>
          <td class="paramname"><em>storage_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__evmjit.html#ga8ff53cb5f21431584ce960a6b8cd5fa3">evmjit_call_func</a>&#160;</td>
          <td class="paramname"><em>call_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__evmjit.html#ga0eee2087598400414c2a6e64b8ca0bf3">evmjit_log_func</a>&#160;</td>
          <td class="paramname"><em>log_func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates new JIT instance. </p>
<p>Creates new JIT instance. Each instance must be destroyed in <a class="el" href="group__evmjit.html#gab83c513384c29d6b795c749386e3b9ff" title="Destroys the JIT instance. ">evmjit_destroy_instance()</a> function. Single instance is thread-safe and can be shared by many threads. The host application can create as many instances as wanted but there are no benefits of this strategy as instances will not share generated code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query_func</td><td>Pointer to query callback function. Nonnull. </td></tr>
    <tr><td class="paramname">storage_func</td><td>Pointer to storage callback function. Nonnull. </td></tr>
    <tr><td class="paramname">call_func</td><td>Pointer to call callback function. Nonnull. </td></tr>
    <tr><td class="paramname">log_func</td><td>Pointer to log callback function. Nonnull. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the created JIT instance. </dd></dl>

</div>
</div>
<a class="anchor" id="gab83c513384c29d6b795c749386e3b9ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void evmjit_destroy_instance </td>
          <td>(</td>
          <td class="paramtype">struct evmjit_instance *&#160;</td>
          <td class="paramname"><em>jit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys the JIT instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jit</td><td>The JIT instance to be destroyed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5c18ccea762b375234ba3403e026a40c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structevmjit__result.html">evmjit_result</a> evmjit_execute </td>
          <td>(</td>
          <td class="paramtype">struct evmjit_instance *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmjit__hash256.html">evmjit_hash256</a>&#160;</td>
          <td class="paramname"><em>code_hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmjit__bytes__view.html">evmjit_bytes_view</a>&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>gas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmjit__bytes__view.html">evmjit_bytes_view</a>&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structevmjit__uint256.html">evmjit_uint256</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates and executes machine code for given EVM bytecode. </p>
<p>All the fun is here. This function actually does something useful.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>A JIT instance. </td></tr>
    <tr><td class="paramname">code_hash</td><td>A hash of the bytecode, usually Keccak. EVMJIT uses it as the code identifier. EVMJIT is able to hash the code itself, but the host application usually has the hash already. </td></tr>
    <tr><td class="paramname">code</td><td>Reference to the bytecode to be executed. </td></tr>
    <tr><td class="paramname">gas</td><td>Gas for execution. Min 0, max 2^63-1. </td></tr>
    <tr><td class="paramname">input_data</td><td>Reference to the call input data. </td></tr>
    <tr><td class="paramname">value</td><td>Call value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>All execution results. </dd></dl>

</div>
</div>
<a class="anchor" id="gacd5cf5f12f4eb90a00f47ade948f560b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int evmjit_get_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns EVMJIT software version. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Is int a good type? E.g. version 1.2.30 being 10230? </dd></dl>

</div>
</div>
<a class="anchor" id="ga4a3bc678c8185d9866b06790e52bc76e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool evmjit_set_option </td>
          <td>(</td>
          <td class="paramtype">struct evmjit_instance *&#160;</td>
          <td class="paramname"><em>jit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the JIT instance. </p>
<p>Allows modifying options of the JIT instance. Options:</p><ul>
<li>compatibility mode: frontier, homestead, metropolis, ...</li>
<li>code cache behavior: on, off, read-only, ...</li>
<li>optimizations,</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">jit</td><td>The JIT instance to be configured. </td></tr>
    <tr><td class="paramname">name</td><td>The option name. Cannot be null. </td></tr>
    <tr><td class="paramname">value</td><td>The new option value. Cannot be null. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the option set successfully. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue May 31 2016 14:18:04 for EVMJIT by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
